<!DOCTYPE HTML>
<html>

<head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="elm.min.js"></script>
	<title>Main</title>
</head>

<body>
	<div id="app"></div>
	<script>
		var key = 'elm-budget';
		var storedData = localStorage.getItem(key);
		var flags = storedData ? JSON.parse(storedData) : null;
		var app = Elm.Main.init({
			node: document.getElementById('app'),
			flags: flags
		});

		app.ports.setStorage.subscribe(function (modelToSave) {
			localStorage.setItem(key, JSON.stringify(modelToSave));
		});

	</script>

</body>

</html>